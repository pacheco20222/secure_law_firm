{% extends "base.html" %}

{% block title %}Edit Document{% endblock %}

{% block content %}
<h2>Edit Document: {{ document.document_title }}</h2>

<form method="POST" action="{{ url_for('edit_document', document_id=document._id) }}">
    <div class="mb-3">
        <label for="document_title" class="form-label">Document Title</label>
        <input type="text" name="document_title" id="document_title" class="form-control" 
               value="{{ document.document_title }}" required>
    </div>

    <div class="mb-3">
        <label for="document_description" class="form-label">Document Description</label>
        <textarea name="document_description" id="document_description" class="form-control" 
                  rows="4" required>{{ document.document_description }}</textarea>
    </div>

    <div class="mb-3">
        <label for="document_tags" class="form-label">Document Tags (comma-separated)</label>
        <input type="text" name="document_tags" id="document_tags" class="form-control" 
               value="{{ document.document_tags | join(', ') }}">
        <small class="form-text text-muted">Separate tags with commas, e.g., "contract, legal, confidential".</small>
    </div>

    <div class="mb-3">
        <label class="form-label">File Type</label>
        <input type="text" class="form-control" value="{{ document.file_type }}" readonly>
    </div>

    <div class="mb-3">
        <label class="form-label">Uploaded By</label>
        <input type="text" class="form-control" value="{{ document.uploaded_by }}" readonly>
    </div>

    <div class="mb-3">
        <label class="form-label">Uploaded At</label>
        <input type="text" class="form-control" value="{{ document.uploaded_at }}" readonly>
    </div>

    <button type="submit" class="btn btn-primary">Save Changes</button>
    <a href="{{ url_for('view_case_details', case_id=document.case_id) }}" class="btn btn-secondary">Cancel</a>
</form>
{% endblock %}
